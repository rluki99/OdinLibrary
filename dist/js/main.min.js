"use strict";var titleInput,authorInput,pagesInput,readInput,submitBookBtn,booksCardsDiv,addBookBtn,closeModalBtn,modal,modalOverlay,formInfo,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){titleInput=document.querySelector("#input-title"),authorInput=document.querySelector("#input-author"),pagesInput=document.querySelector("#input-pages"),readInput=document.querySelector("#input-read"),submitBookBtn=document.querySelector(".books__modal-form-submit"),booksCardsDiv=document.querySelector(".books__cards"),addBookBtn=document.querySelector("#add-book"),closeModalBtn=document.querySelector(".books__modal-close"),modal=document.querySelector(".books__modal"),modalOverlay=document.querySelector(".books__modal-overlay"),formInfo=document.querySelector(".books__modal-form-info")},prepareDOMEvents=function(){submitBookBtn.addEventListener("click",function(e){e.preventDefault(),checkInputs()&&(getInputsFromForm(),clearInputs())}),addBookBtn.addEventListener("click",openModal),closeModalBtn.addEventListener("click",closeModal),window.addEventListener("click",clickOutsideModal)},myLibrary=[];function Book(e,o,t,a){this.title=e,this.author=o,this.pages=t,this.read=a}var addBookToLibrary=function(e,o,t,a){e=new Book(e,o,t,a);myLibrary.push(e),refreshLibraryDisplay()},getInputsFromForm=function(){var e=titleInput.value,o=authorInput.value,t=pagesInput.value,a=readInput.checked?"read":"not read";addBookToLibrary(e,o,t,a)},renderBookCard=function(e){var o=document.createElement("div"),t=(o.classList.add("books__card"),o.innerHTML='\n\t<p class="books__card-title">'.concat(e.title,'</p>\n\t<p class="books__card-author">').concat(e.author,'</p>\n\t<p class="books__card-pages">').concat(e.pages," pages</p>\n\t"),document.createElement("button")),a=(t.classList.add("books__card-read"),t.textContent=e.read,"read"===e.read&&t.classList.add("books__card-read--active"),t.addEventListener("click",function(){return toggleReadStatus(e,t)}),document.createElement("button"));a.classList.add("books__card-delete"),a.textContent="DELETE",a.addEventListener("click",function(){return removeBookFromLibrary(myLibrary.indexOf(e))}),booksCardsDiv.appendChild(o),o.appendChild(t),o.appendChild(a)},refreshLibraryDisplay=function(){booksCardsDiv.innerHTML="",myLibrary.forEach(function(e){return renderBookCard(e)})},clearInputs=function(){titleInput.value="",authorInput.value="",pagesInput.value="",readInput.checked=!1,formInfo.style.display="none",closeModal()},checkInputs=function(){return!!(titleInput.value&&authorInput.value&&pagesInput.value)||!(formInfo.style.display="block")},toggleReadStatus=function(e,o){e.read="read"===e.read?"not read":"read",o.classList.toggle("books__card-read--active"),o.textContent=e.read},removeBookFromLibrary=function(e){myLibrary.splice(e,1),refreshLibraryDisplay()},openModal=function(){modal.classList.add("books__modal--active"),modalOverlay.classList.add("books__modal-overlay--active")},closeModal=function(){modal.classList.remove("books__modal--active"),modalOverlay.classList.remove("books__modal-overlay--active")},clickOutsideModal=function(e){e.target==modal&&closeModal()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGl0bGVJbnB1dCIsImF1dGhvcklucHV0IiwicGFnZXNJbnB1dCIsInJlYWRJbnB1dCIsInN1Ym1pdEJvb2tCdG4iLCJib29rc0NhcmRzRGl2IiwiYWRkQm9va0J0biIsImNsb3NlTW9kYWxCdG4iLCJtb2RhbCIsImZvcm1JbmZvIiwicHJlcGFyZURPTUVsZW1lbnRzIiwicHJlcGFyZURPTUV2ZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vZGFsT3ZlcmxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJjaGVja0lucHV0cyIsImdldElucHV0c0Zyb21Gb3JtIiwiY2xlYXJJbnB1dHMiLCJjbGlja091dHNpZGVNb2RhbCIsImNsb3NlTW9kYWwiLCJ3aW5kb3ciLCJteUxpYnJhcnkiLCJhdXRob3IiLCJyZWFkIiwicGFnZXMiLCJ0aGlzIiwidGl0bGUiLCJhZGRCb29rVG9MaWJyYXJ5IiwibmV3Qm9vayIsInB1c2giLCJ2YWx1ZSIsInJlZnJlc2hMaWJyYXJ5RGlzcGxheSIsInJlbmRlckJvb2tDYXJkIiwibmV3Q2FyZCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJpbm5lckhUTUwiLCJyZWFkQ2FyZEJ0biIsInRleHRDb250ZW50IiwidG9nZ2xlUmVhZFN0YXR1cyIsImRlbGV0ZUNhcmRCdG4iLCJhZGQiLCJib29rIiwiY29uY2F0IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVCb29rRnJvbUxpYnJhcnkiLCJpbmRleE9mIiwiY2hlY2tlZCIsInRvZ2dsZSIsImluZGV4T2ZCb29rIiwic3R5bGUiLCJkaXNwbGF5IiwiYnRuIiwib3Blbk1vZGFsIiwicmVtb3ZlIiwidGFyZ2V0IiwibWFpbiJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsV0FDQUMsWUFEQUQsV0FDQUMsVUFDQUMsY0FDQUMsY0FDQUMsV0FDQUMsY0FDQUMsTUFDQUMsYUFDQUMsU0FFQUMsS0FBUSxXQUVa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TUFBZ0IsR0FackJ2QyxVQWFTK0MsUUFBUXhCLENBQUFBLEVBWmpCakIsU0FhSTZCLE1BQVVhLFFBQU8sT0FackI3QixXQWFJbUIsQ0FDTCxFQUdDakIsWUFBaUI0QixXQWJqQixNQWVBbEIsQ0FBQUEsRUFBQUEsV0FBQUEsT0FBdUJqQyxZQUFBZ0MsT0FBQS9CLFdBQUErQixRQWJmLEVBY1J4QixTQUFBNEMsTUFBQUMsUUFBQSxRQVpELEVBaUJDOUMsaUJBQW9CLFNBQUFxQyxFQUFBVSxHQWRwQlYsRUFlQS9CLEtBQXVCOEIsU0FBdkI5QixFQUFhd0IsS0FBYyxXQUFBLE9BQzNCaUIsRUFBQWpCLFVBQUFhLE9BQUEsMEJBQUEsRUFFREksRUFBTWpDLFlBQWF1QixFQUFBbkIsSUFmbkIsRUFrQkNzQixzQkFBQSxTQUFBSSxHQUVENUIsVUFBTUgsT0FBQUEsRUFBb0IsQ0FBQSxFQWZ6QmEsc0JBaUJhLENBaEJkLEVBSU1zQixVQUFZLFdBQ2pCaEQsTUFBTThCLFVBQVVNLElBQUksc0JBQXNCLEVBQzFDOUIsYUFBYXdCLFVBQVVNLElBQUksOEJBQThCLENBQzFELEVBRU10QixXQUFhLFdBQ2xCZCxNQUFNOEIsVUFBVW1CLE9BQU8sc0JBQXNCLEVBQzdDM0MsYUFBYXdCLFVBQVVtQixPQUFPLDhCQUE4QixDQUM3RCxFQUVNcEMsa0JBQW9CLFNBQUFKLEdBQ3JCQSxFQUFFeUMsUUFBVWxELE9BQ2ZjLFdBQVUsQ0FFWixFQUVBVixTQUFTRyxpQkFBaUIsbUJBQW9CNEMsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCB0aXRsZUlucHV0XHJcbmxldCBhdXRob3JJbnB1dFxyXG5sZXQgcGFnZXNJbnB1dFxyXG5sZXQgcmVhZElucHV0XHJcbmxldCBzdWJtaXRCb29rQnRuXHJcbmxldCBib29rc0NhcmRzRGl2XHJcbmxldCBhZGRCb29rQnRuXHJcbmxldCBjbG9zZU1vZGFsQnRuXHJcbmxldCBtb2RhbFxyXG5sZXQgbW9kYWxPdmVybGF5XHJcbmxldCBmb3JtSW5mb1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0dGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10aXRsZScpXHJcblx0YXV0aG9ySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtYXV0aG9yJylcclxuXHRwYWdlc0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LXBhZ2VzJylcclxuXHRyZWFkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtcmVhZCcpXHJcblx0c3VibWl0Qm9va0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib29rc19fbW9kYWwtZm9ybS1zdWJtaXQnKVxyXG5cdGJvb2tzQ2FyZHNEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX2NhcmRzJylcclxuXHRhZGRCb29rQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1ib29rJylcclxuXHRjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvb2tzX19tb2RhbC1jbG9zZScpXHJcblx0bW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX21vZGFsJylcclxuXHRtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX21vZGFsLW92ZXJsYXknKVxyXG5cdGZvcm1JbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvb2tzX19tb2RhbC1mb3JtLWluZm8nKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdHN1Ym1pdEJvb2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0aWYoIWNoZWNrSW5wdXRzKCkpIHJldHVyblxyXG5cdFx0Z2V0SW5wdXRzRnJvbUZvcm0oKVxyXG5cdFx0Y2xlYXJJbnB1dHMoKVxyXG5cdH0pXHJcblxyXG5cdGFkZEJvb2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTW9kYWwpXHJcblx0Y2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWwpXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tPdXRzaWRlTW9kYWwpXHJcbn1cclxuXHJcbmxldCBteUxpYnJhcnkgPSBbXVxyXG5cclxuZnVuY3Rpb24gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCkge1xyXG5cdHRoaXMudGl0bGUgPSB0aXRsZVxyXG5cdHRoaXMuYXV0aG9yID0gYXV0aG9yXHJcblx0dGhpcy5wYWdlcyA9IHBhZ2VzXHJcblx0dGhpcy5yZWFkID0gcmVhZFxyXG59XHJcblxyXG5jb25zdCBhZGRCb29rVG9MaWJyYXJ5ID0gKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkKSA9PiB7XHJcblx0Y29uc3QgbmV3Qm9vayA9IG5ldyBCb29rKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkKVxyXG5cdG15TGlicmFyeS5wdXNoKG5ld0Jvb2spXHJcblxyXG5cdHJlZnJlc2hMaWJyYXJ5RGlzcGxheSgpXHJcbn1cclxuXHJcbmNvbnN0IGdldElucHV0c0Zyb21Gb3JtID0gKCkgPT4ge1xyXG5cdGNvbnN0IHRpdGxlID0gdGl0bGVJbnB1dC52YWx1ZVxyXG5cdGNvbnN0IGF1dGhvciA9IGF1dGhvcklucHV0LnZhbHVlXHJcblx0Y29uc3QgcGFnZXMgPSBwYWdlc0lucHV0LnZhbHVlXHJcblx0Y29uc3QgcmVhZCA9IHJlYWRJbnB1dC5jaGVja2VkID8gJ3JlYWQnIDogJ25vdCByZWFkJ1xyXG5cclxuXHRhZGRCb29rVG9MaWJyYXJ5KHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkKVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJCb29rQ2FyZCA9IGJvb2sgPT4ge1xyXG5cdGNvbnN0IG5ld0NhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdG5ld0NhcmQuY2xhc3NMaXN0LmFkZCgnYm9va3NfX2NhcmQnKVxyXG5cdG5ld0NhcmQuaW5uZXJIVE1MID0gYFxyXG5cdDxwIGNsYXNzPVwiYm9va3NfX2NhcmQtdGl0bGVcIj4ke2Jvb2sudGl0bGV9PC9wPlxyXG5cdDxwIGNsYXNzPVwiYm9va3NfX2NhcmQtYXV0aG9yXCI+JHtib29rLmF1dGhvcn08L3A+XHJcblx0PHAgY2xhc3M9XCJib29rc19fY2FyZC1wYWdlc1wiPiR7Ym9vay5wYWdlc30gcGFnZXM8L3A+XHJcblx0YFxyXG5cdGNvbnN0IHJlYWRDYXJkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRyZWFkQ2FyZEJ0bi5jbGFzc0xpc3QuYWRkKCdib29rc19fY2FyZC1yZWFkJylcclxuXHRyZWFkQ2FyZEJ0bi50ZXh0Q29udGVudCA9IGJvb2sucmVhZFxyXG5cdGJvb2sucmVhZCA9PT0gJ3JlYWQnID8gcmVhZENhcmRCdG4uY2xhc3NMaXN0LmFkZCgnYm9va3NfX2NhcmQtcmVhZC0tYWN0aXZlJykgOiBudWxsO1xyXG5cdHJlYWRDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUmVhZFN0YXR1cyhib29rLCByZWFkQ2FyZEJ0bikpXHJcblxyXG5cdGNvbnN0IGRlbGV0ZUNhcmRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdGRlbGV0ZUNhcmRCdG4uY2xhc3NMaXN0LmFkZCgnYm9va3NfX2NhcmQtZGVsZXRlJylcclxuXHRkZWxldGVDYXJkQnRuLnRleHRDb250ZW50ID0gJ0RFTEVURSdcclxuXHRkZWxldGVDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlQm9va0Zyb21MaWJyYXJ5KG15TGlicmFyeS5pbmRleE9mKGJvb2spKSlcclxuXHJcblx0Ym9va3NDYXJkc0Rpdi5hcHBlbmRDaGlsZChuZXdDYXJkKVxyXG5cdG5ld0NhcmQuYXBwZW5kQ2hpbGQocmVhZENhcmRCdG4pXHJcblx0bmV3Q2FyZC5hcHBlbmRDaGlsZChkZWxldGVDYXJkQnRuKVxyXG59XHJcblxyXG5jb25zdCByZWZyZXNoTGlicmFyeURpc3BsYXkgPSAoKSA9PiB7XHJcblx0Ym9va3NDYXJkc0Rpdi5pbm5lckhUTUwgPSAnJ1xyXG5cclxuXHRteUxpYnJhcnkuZm9yRWFjaChib29rID0+IHJlbmRlckJvb2tDYXJkKGJvb2spKVxyXG59XHJcblxyXG5jb25zdCBjbGVhcklucHV0cyA9ICgpID0+IHtcclxuXHR0aXRsZUlucHV0LnZhbHVlID0gJydcclxuXHRhdXRob3JJbnB1dC52YWx1ZSA9ICcnXHJcblx0cGFnZXNJbnB1dC52YWx1ZSA9ICcnXHJcblx0cmVhZElucHV0LmNoZWNrZWQgPSBmYWxzZVxyXG5cdGZvcm1JbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRjbG9zZU1vZGFsKClcclxufVxyXG5cclxuY29uc3QgY2hlY2tJbnB1dHMgPSAoKSA9PiB7XHJcblx0aWYoIXRpdGxlSW5wdXQudmFsdWUgfHwgIWF1dGhvcklucHV0LnZhbHVlIHx8ICFwYWdlc0lucHV0LnZhbHVlKSB7XHJcblx0XHRmb3JtSW5mby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5jb25zdCB0b2dnbGVSZWFkU3RhdHVzID0gKGJvb2ssIGJ0bikgPT4ge1xyXG5cdGJvb2sucmVhZCA9IGJvb2sucmVhZCA9PT0gJ3JlYWQnID8gJ25vdCByZWFkJyA6ICdyZWFkJztcclxuXHRidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYm9va3NfX2NhcmQtcmVhZC0tYWN0aXZlJylcclxuXHRidG4udGV4dENvbnRlbnQgPSBib29rLnJlYWQ7XHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUJvb2tGcm9tTGlicmFyeSA9IGluZGV4T2ZCb29rID0+IHtcclxuXHRteUxpYnJhcnkuc3BsaWNlKGluZGV4T2ZCb29rLCAxKVxyXG5cclxuXHRyZWZyZXNoTGlicmFyeURpc3BsYXkoKVxyXG59XHJcblxyXG4vL01PREFMIERJU1BMQVlcclxuXHJcbmNvbnN0IG9wZW5Nb2RhbCA9ICgpID0+IHtcclxuXHRtb2RhbC5jbGFzc0xpc3QuYWRkKCdib29rc19fbW9kYWwtLWFjdGl2ZScpXHJcblx0bW9kYWxPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2Jvb2tzX19tb2RhbC1vdmVybGF5LS1hY3RpdmUnKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG5cdG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jvb2tzX19tb2RhbC0tYWN0aXZlJylcclxuXHRtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYm9va3NfX21vZGFsLW92ZXJsYXktLWFjdGl2ZScpXHJcbn1cclxuXHJcbmNvbnN0IGNsaWNrT3V0c2lkZU1vZGFsID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0ID09IG1vZGFsKSB7XHJcblx0XHRjbG9zZU1vZGFsKClcclxuXHR9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKVxyXG4iXX0=
