"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var titleInput,authorInput,pagesInput,readInput,submitBookBtn,booksCardsDiv,addBookBtn,closeModalBtn,modal,modalOverlay,formInfo,main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){titleInput=document.querySelector("#input-title"),authorInput=document.querySelector("#input-author"),pagesInput=document.querySelector("#input-pages"),readInput=document.querySelector("#input-read"),submitBookBtn=document.querySelector(".books__modal-form-submit"),booksCardsDiv=document.querySelector(".books__cards"),addBookBtn=document.querySelector("#add-book"),closeModalBtn=document.querySelector(".books__modal-close"),modal=document.querySelector(".books__modal"),modalOverlay=document.querySelector(".books__modal-overlay"),formInfo=document.querySelector(".books__modal-form-info")},prepareDOMEvents=function(){submitBookBtn.addEventListener("click",function(e){e.preventDefault(),checkInputs()&&(getInputsFromForm(),clearInputs())}),addBookBtn.addEventListener("click",openModal),closeModalBtn.addEventListener("click",closeModal),window.addEventListener("click",clickOutsideModal)},myLibrary=[],Book=_createClass(function e(t,o,r,n){_classCallCheck(this,e),this.title=t,this.author=o,this.pages=r,this.read=n}),addBookToLibrary=function(e,t,o,r){e=new Book(e,t,o,r);myLibrary.push(e),refreshLibraryDisplay()},getInputsFromForm=function(){var e=titleInput.value,t=authorInput.value,o=pagesInput.value,r=readInput.checked?"read":"not read";addBookToLibrary(e,t,o,r)},renderBookCard=function(e){var t=document.createElement("div"),o=(t.classList.add("books__card"),t.innerHTML='\n\t<p class="books__card-title">'.concat(e.title,'</p>\n\t<p class="books__card-author">').concat(e.author,'</p>\n\t<p class="books__card-pages">').concat(e.pages," pages</p>\n\t"),document.createElement("button")),r=(o.classList.add("books__card-read"),o.textContent=e.read,"read"===e.read&&o.classList.add("books__card-read--active"),o.addEventListener("click",function(){return toggleReadStatus(e,o)}),document.createElement("button"));r.classList.add("books__card-delete"),r.textContent="DELETE",r.addEventListener("click",function(){return removeBookFromLibrary(myLibrary.indexOf(e))}),booksCardsDiv.appendChild(t),t.appendChild(o),t.appendChild(r)},refreshLibraryDisplay=function(){booksCardsDiv.innerHTML="",myLibrary.forEach(function(e){return renderBookCard(e)})},clearInputs=function(){titleInput.value="",authorInput.value="",pagesInput.value="",readInput.checked=!1,formInfo.style.display="none",closeModal()},checkInputs=function(){return!!(titleInput.value&&authorInput.value&&pagesInput.value)||!(formInfo.style.display="block")},toggleReadStatus=function(e,t){e.read="read"===e.read?"not read":"read",t.classList.toggle("books__card-read--active"),t.textContent=e.read},removeBookFromLibrary=function(e){myLibrary.splice(e,1),refreshLibraryDisplay()},openModal=function(){modal.classList.add("books__modal--active"),modalOverlay.classList.add("books__modal-overlay--active")},closeModal=function(){modal.classList.remove("books__modal--active"),modalOverlay.classList.remove("books__modal-overlay--active")},clickOutsideModal=function(e){e.target==modal&&closeModal()};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGl0bGVJbnB1dCIsImF1dGhvcklucHV0IiwicGFnZXNJbnB1dCIsInJlYWRJbnB1dCIsInN1Ym1pdEJvb2tCdG4iLCJib29rc0NhcmRzRGl2IiwiYWRkQm9va0J0biIsImNsb3NlTW9kYWxCdG4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJwcmVwYXJlRE9NRXZlbnRzIiwibW9kYWxPdmVybGF5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9kYWwiLCJmb3JtSW5mbyIsImUiLCJnZXRJbnB1dHNGcm9tRm9ybSIsImNsZWFySW5wdXRzIiwiY2hlY2tJbnB1dHMiLCJvcGVuTW9kYWwiLCJjbG9zZU1vZGFsIiwid2luZG93IiwiY2xpY2tPdXRzaWRlTW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiQm9vayIsIl9jcmVhdGVDbGFzcyIsInRpdGxlIiwiYXV0aG9yIiwicGFnZXMiLCJyZWFkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImFkZEJvb2tUb0xpYnJhcnkiLCJuZXdCb29rIiwibXlMaWJyYXJ5IiwicHVzaCIsInJlZnJlc2hMaWJyYXJ5RGlzcGxheSIsInZhbHVlIiwiY2hlY2tlZCIsImNyZWF0ZUVsZW1lbnQiLCJyZWFkQ2FyZEJ0biIsImNsYXNzTGlzdCIsImFkZCIsImRlbGV0ZUNhcmRCdG4iLCJuZXdDYXJkIiwidGV4dENvbnRlbnQiLCJjb25jYXQiLCJib29rIiwicmVtb3ZlQm9va0Zyb21MaWJyYXJ5IiwiaW5kZXhPZiIsInRvZ2dsZVJlYWRTdGF0dXMiLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJyZW5kZXJCb29rQ2FyZCIsImRpc3BsYXkiLCJzdHlsZSIsInRvZ2dsZSIsImJ0biIsImluZGV4T2ZCb29rIiwicmVtb3ZlIiwidGFyZ2V0IiwibWFpbiJdLCJtYXBwaW5ncyI6IjJqQ0FBQSxJQUFJQSxXQUNBQyxZQUNBQyxXQUNBQyxVQUNBQyxjQUNBQyxjQUNBQyxXQUNBQyxjQVBBUCxNQUNB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QixFQVNDOUIsWUFBQSxXQUVEakIsV0FBTWtCLE1BQWMsR0FQbkJqQixZQVFLRCxNQUFXcUMsR0FQaEJuQyxXQVFTbUMsTUFBT2lCLEdBUGhCbkQsVUFRUW1DLFFBQUssQ0FBQSxFQVBieEIsU0FRQXlDLE1BQUFELFFBQUEsT0FQQWxDLFdBUU8sQ0FDUixFQUdLRixZQUFhVyxXQVJqQixNQVNHLENBQUEsRUFBQ1ksV0FBVWUsT0FBT3ZELFlBQUFvQyxPQUEwQm5DLFdBQUNtQyxRQUVoRCxFQURBb0IsU0FBSVosTUFBV1MsUUFBUXpCLFFBTHhCLEVBRU1xQixpQkFBbUIsU0FBQ0gsRUFBTVUsR0FZaENWLEVBQUFsQixLQUFBLFNBQUFrQixFQUFBbEIsS0FBQSxXQUFBLE9BVkM0QixFQUFJaEIsVUFBVWUsT0FBTywwQkFBMEIsRUFZaERDLEVBQU10QyxZQUFZNEIsRUFBQWxCLElBVmxCLEVBYUNtQixzQkFBQSxTQUFBVSxHQUVEeEIsVUFBTWQsT0FBYXNDLEVBQWJ0QyxDQUFBQSxFQVZMZ0Isc0JBWWFLLENBQ2QsRUFLQ3RCLFVBQUEsV0FDQU4sTUFBQTRCLFVBQUFDLElBQUEsc0JBQUEsRUFFRC9CLGFBQVNZLFVBQUFBLElBQWlCLDhCQUF5QixDQWJuRCxFQUVNSCxXQUFhLFdBQ2xCUCxNQUFNNEIsVUFBVWtCLE9BQU8sc0JBQXNCLEVBQzdDakQsYUFBYStCLFVBQVVrQixPQUFPLDhCQUE4QixDQUM3RCxFQUVNckMsa0JBQW9CLFNBQUNQLEdBQ3RCQSxFQUFFNkMsUUFBVS9DLE9BQ2ZPLFdBQVUsQ0FFWixFQUVBVCxTQUFTWSxpQkFBaUIsbUJBQW9Cc0MsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCB0aXRsZUlucHV0XHJcbmxldCBhdXRob3JJbnB1dFxyXG5sZXQgcGFnZXNJbnB1dFxyXG5sZXQgcmVhZElucHV0XHJcbmxldCBzdWJtaXRCb29rQnRuXHJcbmxldCBib29rc0NhcmRzRGl2XHJcbmxldCBhZGRCb29rQnRuXHJcbmxldCBjbG9zZU1vZGFsQnRuXHJcbmxldCBtb2RhbFxyXG5sZXQgbW9kYWxPdmVybGF5XHJcbmxldCBmb3JtSW5mb1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0dGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10aXRsZScpXHJcblx0YXV0aG9ySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtYXV0aG9yJylcclxuXHRwYWdlc0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LXBhZ2VzJylcclxuXHRyZWFkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtcmVhZCcpXHJcblx0c3VibWl0Qm9va0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib29rc19fbW9kYWwtZm9ybS1zdWJtaXQnKVxyXG5cdGJvb2tzQ2FyZHNEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX2NhcmRzJylcclxuXHRhZGRCb29rQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1ib29rJylcclxuXHRjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvb2tzX19tb2RhbC1jbG9zZScpXHJcblx0bW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX21vZGFsJylcclxuXHRtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9va3NfX21vZGFsLW92ZXJsYXknKVxyXG5cdGZvcm1JbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvb2tzX19tb2RhbC1mb3JtLWluZm8nKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdHN1Ym1pdEJvb2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRpZiAoIWNoZWNrSW5wdXRzKCkpIHJldHVyblxyXG5cdFx0Z2V0SW5wdXRzRnJvbUZvcm0oKVxyXG5cdFx0Y2xlYXJJbnB1dHMoKVxyXG5cdH0pXHJcblxyXG5cdGFkZEJvb2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTW9kYWwpXHJcblx0Y2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9kYWwpXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tPdXRzaWRlTW9kYWwpXHJcbn1cclxuXHJcbmxldCBteUxpYnJhcnkgPSBbXVxyXG5cclxuLy8gcmVndWxhciBjb25zdHJ1Y3RvciBcclxuLy8gZnVuY3Rpb24gQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCkge1xyXG4vLyBcdHRoaXMudGl0bGUgPSB0aXRsZVxyXG4vLyBcdHRoaXMuYXV0aG9yID0gYXV0aG9yXHJcbi8vIFx0dGhpcy5wYWdlcyA9IHBhZ2VzXHJcbi8vIFx0dGhpcy5yZWFkID0gcmVhZFxyXG4vLyB9XHJcblxyXG4vLyBmYWN0b3J5IGZ1bmN0aW9uc1xyXG4vLyBjb25zdCBjcmVhdGVCb29rID0gKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkKSA9PiB7XHJcbi8vIFx0cmV0dXJuIHtcclxuLy8gXHRcdHRpdGxlOiB0aXRsZSxcclxuLy8gXHRcdGF1dGhvcjogYXV0aG9yLFxyXG4vLyBcdFx0cGFnZXM6IHBhZ2VzLFxyXG4vLyBcdFx0cmVhZDogcmVhZCxcclxuLy8gXHR9XHJcbi8vIH1cclxuXHJcbi8vIGNsYXNzXHJcbmNsYXNzIEJvb2sge1xyXG5cdGNvbnN0cnVjdG9yKHRpdGxlLCBhdXRob3IscGFnZXMscmVhZCkge1xyXG5cdFx0dGhpcy50aXRsZSA9IHRpdGxlXHJcblx0XHR0aGlzLmF1dGhvciA9IGF1dGhvclxyXG5cdFx0dGhpcy5wYWdlcyA9IHBhZ2VzXHJcblx0XHR0aGlzLnJlYWQgPSByZWFkXHJcblx0fVxyXG59XHJcblxyXG5cclxuY29uc3QgYWRkQm9va1RvTGlicmFyeSA9ICh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCkgPT4ge1xyXG5cdC8vIGNvbnN0IG5ld0Jvb2sgPSBuZXcgQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZClcclxuXHQvLyBjb25zdCBuZXdCb29rID0gY3JlYXRlQm9vayh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZClcclxuXHRjb25zdCBuZXdCb29rID0gbmV3IEJvb2sodGl0bGUsIGF1dGhvciwgcGFnZXMsIHJlYWQpXHJcblx0bXlMaWJyYXJ5LnB1c2gobmV3Qm9vaylcclxuXHJcblx0cmVmcmVzaExpYnJhcnlEaXNwbGF5KClcclxufVxyXG5cclxuY29uc3QgZ2V0SW5wdXRzRnJvbUZvcm0gPSAoKSA9PiB7XHJcblx0Y29uc3QgdGl0bGUgPSB0aXRsZUlucHV0LnZhbHVlXHJcblx0Y29uc3QgYXV0aG9yID0gYXV0aG9ySW5wdXQudmFsdWVcclxuXHRjb25zdCBwYWdlcyA9IHBhZ2VzSW5wdXQudmFsdWVcclxuXHRjb25zdCByZWFkID0gcmVhZElucHV0LmNoZWNrZWQgPyAncmVhZCcgOiAnbm90IHJlYWQnXHJcblxyXG5cdGFkZEJvb2tUb0xpYnJhcnkodGl0bGUsIGF1dGhvciwgcGFnZXMsIHJlYWQpXHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlckJvb2tDYXJkID0gKGJvb2spID0+IHtcclxuXHRjb25zdCBuZXdDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRuZXdDYXJkLmNsYXNzTGlzdC5hZGQoJ2Jvb2tzX19jYXJkJylcclxuXHRuZXdDYXJkLmlubmVySFRNTCA9IGBcclxuXHQ8cCBjbGFzcz1cImJvb2tzX19jYXJkLXRpdGxlXCI+JHtib29rLnRpdGxlfTwvcD5cclxuXHQ8cCBjbGFzcz1cImJvb2tzX19jYXJkLWF1dGhvclwiPiR7Ym9vay5hdXRob3J9PC9wPlxyXG5cdDxwIGNsYXNzPVwiYm9va3NfX2NhcmQtcGFnZXNcIj4ke2Jvb2sucGFnZXN9IHBhZ2VzPC9wPlxyXG5cdGBcclxuXHRjb25zdCByZWFkQ2FyZEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0cmVhZENhcmRCdG4uY2xhc3NMaXN0LmFkZCgnYm9va3NfX2NhcmQtcmVhZCcpXHJcblx0cmVhZENhcmRCdG4udGV4dENvbnRlbnQgPSBib29rLnJlYWRcclxuXHRib29rLnJlYWQgPT09ICdyZWFkJyA/IHJlYWRDYXJkQnRuLmNsYXNzTGlzdC5hZGQoJ2Jvb2tzX19jYXJkLXJlYWQtLWFjdGl2ZScpIDogbnVsbFxyXG5cdHJlYWRDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlUmVhZFN0YXR1cyhib29rLCByZWFkQ2FyZEJ0bikpXHJcblxyXG5cdGNvbnN0IGRlbGV0ZUNhcmRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdGRlbGV0ZUNhcmRCdG4uY2xhc3NMaXN0LmFkZCgnYm9va3NfX2NhcmQtZGVsZXRlJylcclxuXHRkZWxldGVDYXJkQnRuLnRleHRDb250ZW50ID0gJ0RFTEVURSdcclxuXHRkZWxldGVDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlQm9va0Zyb21MaWJyYXJ5KG15TGlicmFyeS5pbmRleE9mKGJvb2spKSlcclxuXHJcblx0Ym9va3NDYXJkc0Rpdi5hcHBlbmRDaGlsZChuZXdDYXJkKVxyXG5cdG5ld0NhcmQuYXBwZW5kQ2hpbGQocmVhZENhcmRCdG4pXHJcblx0bmV3Q2FyZC5hcHBlbmRDaGlsZChkZWxldGVDYXJkQnRuKVxyXG59XHJcblxyXG5jb25zdCByZWZyZXNoTGlicmFyeURpc3BsYXkgPSAoKSA9PiB7XHJcblx0Ym9va3NDYXJkc0Rpdi5pbm5lckhUTUwgPSAnJ1xyXG5cclxuXHRteUxpYnJhcnkuZm9yRWFjaCgoYm9vaykgPT4gcmVuZGVyQm9va0NhcmQoYm9vaykpXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFySW5wdXRzID0gKCkgPT4ge1xyXG5cdHRpdGxlSW5wdXQudmFsdWUgPSAnJ1xyXG5cdGF1dGhvcklucHV0LnZhbHVlID0gJydcclxuXHRwYWdlc0lucHV0LnZhbHVlID0gJydcclxuXHRyZWFkSW5wdXQuY2hlY2tlZCA9IGZhbHNlXHJcblx0Zm9ybUluZm8uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdGNsb3NlTW9kYWwoKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0lucHV0cyA9ICgpID0+IHtcclxuXHRpZiAoIXRpdGxlSW5wdXQudmFsdWUgfHwgIWF1dGhvcklucHV0LnZhbHVlIHx8ICFwYWdlc0lucHV0LnZhbHVlKSB7XHJcblx0XHRmb3JtSW5mby5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fVxyXG5cdHJldHVybiB0cnVlXHJcbn1cclxuXHJcbmNvbnN0IHRvZ2dsZVJlYWRTdGF0dXMgPSAoYm9vaywgYnRuKSA9PiB7XHJcblx0Ym9vay5yZWFkID0gYm9vay5yZWFkID09PSAncmVhZCcgPyAnbm90IHJlYWQnIDogJ3JlYWQnXHJcblx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2Jvb2tzX19jYXJkLXJlYWQtLWFjdGl2ZScpXHJcblx0YnRuLnRleHRDb250ZW50ID0gYm9vay5yZWFkXHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUJvb2tGcm9tTGlicmFyeSA9IChpbmRleE9mQm9vaykgPT4ge1xyXG5cdG15TGlicmFyeS5zcGxpY2UoaW5kZXhPZkJvb2ssIDEpXHJcblxyXG5cdHJlZnJlc2hMaWJyYXJ5RGlzcGxheSgpXHJcbn1cclxuXHJcbi8vTU9EQUwgRElTUExBWVxyXG5cclxuY29uc3Qgb3Blbk1vZGFsID0gKCkgPT4ge1xyXG5cdG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2Jvb2tzX19tb2RhbC0tYWN0aXZlJylcclxuXHRtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYm9va3NfX21vZGFsLW92ZXJsYXktLWFjdGl2ZScpXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XHJcblx0bW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYm9va3NfX21vZGFsLS1hY3RpdmUnKVxyXG5cdG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdib29rc19fbW9kYWwtb3ZlcmxheS0tYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgY2xpY2tPdXRzaWRlTW9kYWwgPSAoZSkgPT4ge1xyXG5cdGlmIChlLnRhcmdldCA9PSBtb2RhbCkge1xyXG5cdFx0Y2xvc2VNb2RhbCgpXHJcblx0fVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbilcclxuIl19
